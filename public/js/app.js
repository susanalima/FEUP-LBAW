function addEventListeners(){let e=document.querySelector("#addProductCategorySpinner");e.addEventListener("change",requestUpdateSpecsHeaders)}function encodeForAjax(e){return null==e?null:Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function sendAjaxRequest(e,t,n,s){let o=new XMLHttpRequest;o.open(e,t,!0),o.setRequestHeader("X-CSRF-TOKEN",document.querySelector('meta[name="csrf-token"]').content),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.addEventListener("load",s),o.send(encodeForAjax(n))}function requestUpdateSpecsHeaders(e){function t(){let e=JSON.parse(this.responseText),t=document.querySelector("#specs");[...document.getElementsByClassName("insertSpec")].forEach(e=>e.remove()),e.forEach(({id:e,name:n})=>{let s=document.createElement("div");s.className="form-group row insertSpec",s.innerHTML=`<label for="addProductName" class="col-sm-1 col-form-label">${formatHeader(n)}</label>`+'<div class="col-sm-11 px-0">'+`  <input type="text" class="form-control" id="spec_${e}" placeholder="" name="specs[]">`+`<input type="hidden" class="form-control" id="spec_${e}" name="spec_header[]" value="${e}"> `+"</div>",t.insertAdjacentElement("afterend",s)})}let n=e.srcElement.options[e.srcElement.selectedIndex].value;sendAjaxRequest("GET",`/api/category_specs?cat_id=${n}`,null,t)}const formatHeader=e=>{const t=e=>(e.length>3||"no"===e)&&!e.includes("isbn")?e.charAt(0).toUpperCase()+e.slice(1):e.toUpperCase();return"string"!=typeof e?"":(e=e.replace("_"," ").split(" ").map(t).join(" "),e)};addEventListeners();