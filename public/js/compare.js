function updateComparison(e=!0){let t=JSON.parse(getCookie("comparisonData"));if(null===t&&(t=[]),e){const e=document.querySelectorAll(".addToCmpBtn");for(const o of e){const e=o.closest(".prod").dataset.id;t.includes(e)&&o.classList.toggle("active")}}sendAjaxRequest("GET",`/api/productSimple/?products=${JSON.stringify(t)}`,null,updateComparisonModal)}function updateComparisonModal(e){if(4===e.target.readyState&&200===e.target.status){const t=JSON.parse(e.target.responseText),o=document.querySelector("#cmpModal");for(;o.firstChild;)o.removeChild(o.firstChild);const n=[];for(const e of t)n.push(e.id),o.innerHTML+=` <div class="productForComparison d-flex flex-column align-items-center pb-5 prod" data-id="${e.id}">\n      <div>\n          <button class="btn delBtn button-negative" title="Remove From Comparison" onclick="removeCompare(this)">\n              <i class="fas fa-times"></i>\n          </button>\n      </div>\n      <a href="/product/${e.id}" class="d-flex flex-column flex-wrap align-items-center">\n          <div class="productImageCompare d-flex flex-column flex-wrap align-items-center">\n              <img src="/storage/${e.image}" class="mx-auto my-auto" alt="..." />\n          </div>\n      <span class="text-center">${e.name}</span>\n      </a>\n    </div>`;document.querySelector("#cmpLink").setAttribute("href","/compare/"+n.join("/"))}}function removeCompare(e){addToComparison(e);const t=e.parentElement.parentElement;t.parentElement.removeChild(t)}updateComparison();